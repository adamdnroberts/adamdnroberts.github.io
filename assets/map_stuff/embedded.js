!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("mapbox-gl")):"function"==typeof define&&define.amd?define(["exports","mapbox-gl"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).bundle={},e.mapboxgl)}(this,(function(e,t){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?v(e):t}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=h(e);if(t){var r=h(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return p(this,n)}}function m(e,t,n){return(m="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function g(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function b(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||A(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){if(e){if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(e,t):void 0}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function w(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=A(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function _(e){return("0"+e.toString(16)).substr(-2)}function x(e){var t=new Uint8Array((e||40)/2);return(window.crypto?window.crypto:window.msCrypto).getRandomValues(t),Array.from(t,_).join("")}function O(e,t){e.forEach((function(e){t[e]=t[e].bind(t)}))}function S(e){var t=ke.get(e.type);void 0===t&&(t={stringsArray:new WeakMap,keyString:new Map},ke.set(e.type,t));var n=t.stringsArray.get(e.strings);if(void 0!==n)return n;var i=e.strings.join(q);return void 0===(n=t.keyString.get(i))&&(n=new te(e,e.getTemplateElement()),t.keyString.set(i,n)),t.stringsArray.set(e.strings,n),n}function T(e,t){var n=function(e){for(var t=0;t<e.length;t++)if(e[t].id.includes("label"))return e[t].id}(e.getStyle().layers);e.addLayer(t,n)}function N(e,t,n){return{units:new Se(e,{id:t.sourceLayer,source:t.sourceLayer,"source-layer":t.sourceLayer,type:"fill",paint:{"fill-color":["case",["boolean",["feature-state","hover"],!1],["match",["feature-state","color"],0,"#000000","#777777"],["match",["feature-state","color"],0,"#202f24","rgba(0, 0, 0, 0)"]],"fill-opacity":.55}},n),unitsBorders:new Se(e,{id:"units-borders",type:"line",source:t.sourceLayer,"source-layer":t.sourceLayer,paint:{"line-color":"#444444","line-width":["interpolate",["linear"],["zoom"],9.5,0,17,2],"line-opacity":.2}},n)}}function M(e,t,n,i){return new Se(e,{id:"ovrlay",source:t.sourceLayer,"source-layer":t.sourceLayer,type:"fill",paint:i},n)}function E(){var e=g(['\n            <div class="icon-list__item" title="','">\n                <label>','</label>\n                <input\n                    type="radio"\n                    id="tool-','"\n                    name="tool"\n                    value="','"\n                    @change=',"\n                    ?checked=",'\n                />\n                <div class="icon-list__item__radio"></div>\n                ',"\n            </div>\n        "]);return E=function(){return e},e}function P(){var e=g([""]);return P=function(){return e},e}function L(){var e=g(['<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"\n            style="display: inline-block; height: 26px; z-index: 100;">\n            <path d="M2 2 L17 12 L12 13 L16 22 L10 14 L6 18 Z" fill="currentColor"></path>\n        </svg>']);return L=function(){return e},e}function j(){var e=g(['\n    <div class="ui-option">\n        <legend class="ui-label ui-label--row">\n            ','\n        </legend>\n        <div class="slider-container">\n            <input\n                class="slider"\n                type="range"\n                value="','"\n                min="1"\n                max="40"\n                @change=','\n            />\n            <input\n                class="slider-value"\n                type="number"\n                value="','"\n                min="1"\n                max="40"\n                @change=',"\n            />\n        </div>\n    </div>\n"]);return j=function(){return e},e}function B(){var e=g(["\n            ","\n        "]);return B=function(){return e},e}function C(){var e=g(['<img src="','" alt="Erase" \n            style="display: inline-block; height: 26px !important; z-index: 100;"></img>']);return C=function(){return e},e}function R(){var e=g(['<img src="','" alt="Pan" \n            style="display: inline-block; height: 24px !important; z-index: 100;"></img>']);return R=function(){return e},e}function F(){var e=g(['\n    <section\n        class="tool-options ','"\n    >\n        ',"\n    </section>\n"]);return F=function(){return e},e}function I(){var e=g(['\n        <div class="districtr__mini-toolbar">\n            <nav>\n                <div class="districtr__mini-toolbar-top">\n                    <div class="icon-list">\n                        ',"\n                    </div>\n                </div>\n            </nav>\n            ","\n            </div>\n        </div>\n        "]);return I=function(){return e},e}function V(){var e=g(["<h4>An error occurred.</h4>"]);return V=function(){return e},e}var D,H=n(t),U={selectTool:function(e,t){return l(l({},e),{},{activeTool:t.id})},openDropdownMenu:function(e){return l(l({},e),{},{dropdownMenuOpen:!0})},closeDropdownMenu:function(e){return l(l({},e),{},{dropdownMenuOpen:!1})}},Q=function(e){var t={},n=function(e){t[e]=function(t){return l(l({},t),{},{type:e})}};for(var i in e)n(i);return t}(U),z=function(e){return function(t,n){return e.hasOwnProperty(n.type)?e[n.type](t,n):t}}(U),Y=(D={toolbar:z},function(e,t){var n=!1,i={};for(var r in D)i[r]=D[r](e[r],t),n=n||i[r]!==e[r];return n?i:e}),G=new WeakMap,Z=function(e){return"function"==typeof e&&G.has(e)},J="undefined"!=typeof window&&null!=window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,W=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t!==n;){var i=t.nextSibling;e.removeChild(t),t=i}},K={},X={},q="{{lit-".concat(String(Math.random()).slice(2),"}}"),$="<!--".concat(q,"-->"),ee=new RegExp("".concat(q,"|").concat($)),te=function e(t,n){r(this,e),this.parts=[],this.element=n;for(var i=[],o=[],a=document.createTreeWalker(n.content,133,null,!1),s=0,u=-1,l=0,c=t.strings,h=t.values.length;l<h;){var d=a.nextNode();if(null!==d){if(u++,1===d.nodeType){if(d.hasAttributes()){for(var f=d.attributes,v=f.length,p=0,y=0;y<v;y++)ne(f[y].name,"$lit$")&&p++;for(;p-- >0;){var m=c[l],g=oe.exec(m)[2],b=g.toLowerCase()+"$lit$",A=d.getAttribute(b);d.removeAttribute(b);var k=A.split(ee);this.parts.push({type:"attribute",index:u,name:g,strings:k}),l+=k.length-1}}"TEMPLATE"===d.tagName&&(o.push(d),a.currentNode=d.content)}else if(3===d.nodeType){var w=d.data;if(w.indexOf(q)>=0){for(var _=d.parentNode,x=w.split(ee),O=x.length-1,S=0;S<O;S++){var T=void 0,N=x[S];if(""===N)T=re();else{var M=oe.exec(N);null!==M&&ne(M[2],"$lit$")&&(N=N.slice(0,M.index)+M[1]+M[2].slice(0,-5)+M[3]),T=document.createTextNode(N)}_.insertBefore(T,d),this.parts.push({type:"node",index:++u})}""===x[O]?(_.insertBefore(re(),d),i.push(d)):d.data=x[O],l+=O}}else if(8===d.nodeType)if(d.data===q){var E=d.parentNode;null!==d.previousSibling&&u!==s||(u++,E.insertBefore(re(),d)),s=u,this.parts.push({type:"node",index:u}),null===d.nextSibling?d.data="":(i.push(d),u--),l++}else for(var P=-1;-1!==(P=d.data.indexOf(q,P+1));)this.parts.push({type:"node",index:-1}),l++}else a.currentNode=o.pop()}for(var L=0,j=i;L<j.length;L++){var B=j[L];B.parentNode.removeChild(B)}},ne=function(e,t){var n=e.length-t.length;return n>=0&&e.slice(n)===t},ie=function(e){return-1!==e.index},re=function(){return document.createComment("")},oe=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/,ae=function(){function e(t,n,i){r(this,e),this.__parts=[],this.template=t,this.processor=n,this.options=i}return a(e,[{key:"update",value:function(e){var t,n=0,i=w(this.__parts);try{for(i.s();!(t=i.n()).done;){var r=t.value;void 0!==r&&r.setValue(e[n]),n++}}catch(e){i.e(e)}finally{i.f()}var o,a=w(this.__parts);try{for(a.s();!(o=a.n()).done;){var s=o.value;void 0!==s&&s.commit()}}catch(e){a.e(e)}finally{a.f()}}},{key:"_clone",value:function(){for(var e,t=J?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),n=[],i=this.template.parts,r=document.createTreeWalker(t,133,null,!1),o=0,a=0,s=r.nextNode();o<i.length;)if(e=i[o],ie(e)){for(;a<e.index;)a++,"TEMPLATE"===s.nodeName&&(n.push(s),r.currentNode=s.content),null===(s=r.nextNode())&&(r.currentNode=n.pop(),s=r.nextNode());if("node"===e.type){var u=this.processor.handleTextExpression(this.options);u.insertAfterNode(s.previousSibling),this.__parts.push(u)}else{var l;(l=this.__parts).push.apply(l,b(this.processor.handleAttributeExpressions(s,e.name,e.strings,this.options)))}o++}else this.__parts.push(void 0),o++;return J&&(document.adoptNode(t),customElements.upgrade(t)),t}}]),e}(),se=" ".concat(q," "),ue=function(){function e(t,n,i,o){r(this,e),this.strings=t,this.values=n,this.type=i,this.processor=o}return a(e,[{key:"getHTML",value:function(){for(var e=this.strings.length-1,t="",n=!1,i=0;i<e;i++){var r=this.strings[i],o=r.lastIndexOf("<!--");n=(o>-1||n)&&-1===r.indexOf("-->",o+1);var a=oe.exec(r);t+=null===a?r+(n?se:$):r.substr(0,a.index)+a[1]+a[2]+"$lit$"+a[3]+q}return t+this.strings[e]}},{key:"getTemplateElement",value:function(){var e=document.createElement("template");return e.innerHTML=this.getHTML(),e}}]),e}(),le=function(e){return null===e||!("object"===i(e)||"function"==typeof e)},ce=function(e){return Array.isArray(e)||!(!e||!e[Symbol.iterator])},he=function(){function e(t,n,i){r(this,e),this.dirty=!0,this.element=t,this.name=n,this.strings=i,this.parts=[];for(var o=0;o<i.length-1;o++)this.parts[o]=this._createPart()}return a(e,[{key:"_createPart",value:function(){return new de(this)}},{key:"_getValue",value:function(){for(var e=this.strings,t=e.length-1,n="",i=0;i<t;i++){n+=e[i];var r=this.parts[i];if(void 0!==r){var o=r.value;if(le(o)||!ce(o))n+="string"==typeof o?o:String(o);else{var a,s=w(o);try{for(s.s();!(a=s.n()).done;){var u=a.value;n+="string"==typeof u?u:String(u)}}catch(e){s.e(e)}finally{s.f()}}}}return n+e[t]}},{key:"commit",value:function(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}]),e}(),de=function(){function e(t){r(this,e),this.value=void 0,this.committer=t}return a(e,[{key:"setValue",value:function(e){e===K||le(e)&&e===this.value||(this.value=e,Z(e)||(this.committer.dirty=!0))}},{key:"commit",value:function(){for(;Z(this.value);){var e=this.value;this.value=K,e(this)}this.value!==K&&this.committer.commit()}}]),e}(),fe=function(){function e(t){r(this,e),this.value=void 0,this.__pendingValue=void 0,this.options=t}return a(e,[{key:"appendInto",value:function(e){this.startNode=e.appendChild(re()),this.endNode=e.appendChild(re())}},{key:"insertAfterNode",value:function(e){this.startNode=e,this.endNode=e.nextSibling}},{key:"appendIntoPart",value:function(e){e.__insert(this.startNode=re()),e.__insert(this.endNode=re())}},{key:"insertAfterPart",value:function(e){e.__insert(this.startNode=re()),this.endNode=e.endNode,e.endNode=this.startNode}},{key:"setValue",value:function(e){this.__pendingValue=e}},{key:"commit",value:function(){if(null!==this.startNode.parentNode){for(;Z(this.__pendingValue);){var e=this.__pendingValue;this.__pendingValue=K,e(this)}var t=this.__pendingValue;t!==K&&(le(t)?t!==this.value&&this.__commitText(t):t instanceof ue?this.__commitTemplateResult(t):t instanceof Node?this.__commitNode(t):ce(t)?this.__commitIterable(t):t===X?(this.value=X,this.clear()):this.__commitText(t))}}},{key:"__insert",value:function(e){this.endNode.parentNode.insertBefore(e,this.endNode)}},{key:"__commitNode",value:function(e){this.value!==e&&(this.clear(),this.__insert(e),this.value=e)}},{key:"__commitText",value:function(e){var t=this.startNode.nextSibling,n="string"==typeof(e=null==e?"":e)?e:String(e);t===this.endNode.previousSibling&&3===t.nodeType?t.data=n:this.__commitNode(document.createTextNode(n)),this.value=e}},{key:"__commitTemplateResult",value:function(e){var t=this.options.templateFactory(e);if(this.value instanceof ae&&this.value.template===t)this.value.update(e.values);else{var n=new ae(t,e.processor,this.options),i=n._clone();n.update(e.values),this.__commitNode(i),this.value=n}}},{key:"__commitIterable",value:function(t){Array.isArray(this.value)||(this.value=[],this.clear());var n,i,r=this.value,o=0,a=w(t);try{for(a.s();!(i=a.n()).done;){var s=i.value;void 0===(n=r[o])&&(n=new e(this.options),r.push(n),0===o?n.appendIntoPart(this):n.insertAfterPart(r[o-1])),n.setValue(s),n.commit(),o++}}catch(e){a.e(e)}finally{a.f()}o<r.length&&(r.length=o,this.clear(n&&n.endNode))}},{key:"clear",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.startNode;W(this.startNode.parentNode,e.nextSibling,this.endNode)}}]),e}(),ve=function(){function e(t,n,i){if(r(this,e),this.value=void 0,this.__pendingValue=void 0,2!==i.length||""!==i[0]||""!==i[1])throw new Error("Boolean attributes can only contain a single expression");this.element=t,this.name=n,this.strings=i}return a(e,[{key:"setValue",value:function(e){this.__pendingValue=e}},{key:"commit",value:function(){for(;Z(this.__pendingValue);){var e=this.__pendingValue;this.__pendingValue=K,e(this)}if(this.__pendingValue!==K){var t=!!this.__pendingValue;this.value!==t&&(t?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=t),this.__pendingValue=K}}}]),e}(),pe=function(e){function t(e,i,o){var a;return r(this,t),(a=n.call(this,e,i,o)).single=2===o.length&&""===o[0]&&""===o[1],a}c(t,e);var n=y(t);return a(t,[{key:"_createPart",value:function(){return new ye(this)}},{key:"_getValue",value:function(){return this.single?this.parts[0].value:m(h(t.prototype),"_getValue",this).call(this)}},{key:"commit",value:function(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}]),t}(he),ye=function(e){function t(){return r(this,t),n.apply(this,arguments)}c(t,e);var n=y(t);return t}(de),me=!1;!function(){try{var e={get capture(){return me=!0,!1}};window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(e){}}();var ge=function(){function e(t,n,i){var o=this;r(this,e),this.value=void 0,this.__pendingValue=void 0,this.element=t,this.eventName=n,this.eventContext=i,this.__boundHandleEvent=function(e){return o.handleEvent(e)}}return a(e,[{key:"setValue",value:function(e){this.__pendingValue=e}},{key:"commit",value:function(){for(;Z(this.__pendingValue);){var e=this.__pendingValue;this.__pendingValue=K,e(this)}if(this.__pendingValue!==K){var t=this.__pendingValue,n=this.value,i=null==t||null!=n&&(t.capture!==n.capture||t.once!==n.once||t.passive!==n.passive),r=null!=t&&(null==n||i);i&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),r&&(this.__options=be(t),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=t,this.__pendingValue=K}}},{key:"handleEvent",value:function(e){"function"==typeof this.value?this.value.call(this.eventContext||this.element,e):this.value.handleEvent(e)}}]),e}(),be=function(e){return e&&(me?{capture:e.capture,passive:e.passive,once:e.once}:e.capture)},Ae=new(function(){function e(){r(this,e)}return a(e,[{key:"handleAttributeExpressions",value:function(e,t,n,i){var r=t[0];return"."===r?new pe(e,t.slice(1),n).parts:"@"===r?[new ge(e,t.slice(1),i.eventContext)]:"?"===r?[new ve(e,t.slice(1),n)]:new he(e,t,n).parts}},{key:"handleTextExpression",value:function(e){return new fe(e)}}]),e}()),ke=new Map,we=new WeakMap,_e=function(e,t,n){var i=we.get(t);void 0===i&&(W(t,t.firstChild),we.set(t,i=new fe(Object.assign({templateFactory:S},n))),i.appendInto(t)),i.setValue(e),i.commit()};"undefined"!=typeof window&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.2.1");var xe,Oe=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return new ue(e,n,"html",Ae)},Se=function(){function e(t,n,i){var o;r(this,e),this.map=t,this.id=n.id,this.sourceId="string"==typeof(o=n.source)||o instanceof String?n.source:n.id,this.type=n.type,this.sourceLayer=n["source-layer"],i?i(t,n):t.addLayer(n),this.getFeature=this.getFeature.bind(this)}return a(e,[{key:"setOpacity",value:function(e){this.setPaintProperty("".concat(this.type,"-opacity"),e)}},{key:"setColor",value:function(e){this.setPaintProperty("".concat(this.type,"-color"),e)}},{key:"getColor",value:function(){return this.getPaintProperty("".concat(this.type,"-color"))}},{key:"setPaintProperties",value:function(e){for(var t in e)this.setPaintProperty(t,e[t])}},{key:"setFeatureState",value:function(e,t){this.map.setFeatureState({source:this.sourceId,sourceLayer:this.sourceLayer,id:e},t)}},{key:"setPaintProperty",value:function(e,t){this.map.setPaintProperty(this.id,e,t)}},{key:"getPaintProperty",value:function(e){return this.map.getPaintProperty(this.id,e)}},{key:"getFeatureState",value:function(e){return this.map.getFeatureState({source:this.sourceId,sourceLayer:this.sourceLayer,id:e})}},{key:"getFeature",value:function(e){return this.map.querySourceFeatures(this.sourceId,{sourceLayer:this.sourceLayer,filter:["==",["id"],e]})[0]}},{key:"queryRenderedFeatures",value:function(){return this.map.queryRenderedFeatures(null,{layers:[this.id]})}},{key:"querySourceFeatures",value:function(){return this.map.querySourceFeatures(this.sourceId,{sourceLayer:this.sourceLayer})}},{key:"getAssignment",value:function(e){return this.getFeatureState(e).color}},{key:"setAssignment",value:function(e,t){this.setFeatureState(e.id,l(l({},e.state),{},{color:t}))}},{key:"on",value:function(e){for(var t,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];(t=this.map).on.apply(t,[e,this.id].concat(i))}},{key:"off",value:function(e){for(var t,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];(t=this.map).off.apply(t,[e,this.id].concat(i))}},{key:"untilSourceLoaded",value:function(e){var t=this;if(this.map.isSourceLoaded(this.sourceId))return e();this.map.on("sourcedata",(function n(){return e((function(){return t.map.off("sourcedata",n)}))}))}}]),e}(),Te=function e(t,n,i){r(this,e),this.map=new H.default.Map(l({container:t,style:i,attributionControl:!1,minZoom:5,pitchWithRotate:!1,dragPan:!0,touchZoomRotate:!0},n)),this.nav=new H.default.NavigationControl,this.map.addControl(this.nav,"top-left"),this.mapboxgl=H.default},Ne=function(){function e(t){var n=t.key,i=t.name;r(this,e),this.key=n,this.name=i}return a(e,[{key:"getValue",value:function(e){if(void 0!==e.properties)return e.properties[this.key]}}]),e}(),Me=function(){function e(t){var n=t.id,i=t.idColumn;r(this,e),this.id=n||x(8),this.assignment={},this.idColumn=i}return a(e,[{key:"update",value:function(e,t){this.assignment[this.idColumn.getValue(e)]=t}}]),e}(),Ee=function(){function e(t,n){var i=n.id,o=n.units,a=n.showOverlay,s=n.overlayRule,u=f(n,["id","units","showOverlay","overlayRule"]);r(this,e),this.unitsRecord=o,this.idColumn=new Ne(o.idColumn),this.plan=new Me(l(l({id:i},u),{},{idColumn:this.idColumn})),this.initializeMapState(t,o,T,a,s),this.subscribers=[],this.update=this.update.bind(this),this.render=this.render.bind(this)}return a(e,[{key:"initializeMapState",value:function(e,t,n,i,r){t.tileset.source.promoteId={},t.tileset.source.promoteId[t.tileset.sourceLayer]=t.idColumn.key;var o=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};e.addSource(t.sourceLayer,t.source);var o=i?M(e,t,n,r):null,a=N(e,t,n);return{units:a.units,unitsBorders:a.unitsBorders,overlay:o}}(e,t.tileset,n,i,r),a=o.units,s=o.unitsBorders,u=o.overlay;this.units=a,this.unitsBorders=s,this.layers=[a,u],this.map=e}},{key:"update",value:function(e,t){this.plan.update(e,t)}},{key:"subscribe",value:function(e){this.subscribers.push(e),this.render()}},{key:"render",value:function(){var e,t=w(this.subscribers);try{for(t.s();!(e=t.n()).done;)(0,e.value)()}catch(e){t.e(e)}finally{t.f()}}},{key:"hasExpectedData",value:function(e){if(void 0===e||void 0===e.properties)return!1;var t,n=w(this.columns);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(void 0===e.properties[i.key])return!1}}catch(e){n.e(e)}finally{n.f()}return!0}}]),e}(),Pe=function(){function e(t,n,i){r(this,e),this.id=t,this.name=n,this.icon=i,this.active=!1}return a(e,[{key:"activate",value:function(){this.active=!0}},{key:"deactivate",value:function(){this.active=!1}},{key:"render",value:function(e){var t=this;return Oe(E(),this.name,this.name,this.id,this.id,(function(){return e(t.id)}),this.active,this.icon)}}]),e}(),Le=function(e){function t(e){var i;r(this,t);var o=Oe(L());return(i=n.call(this,"brush","Draw",o)).brush=e,i.options=new je(e),i}c(t,e);var n=y(t);return a(t,[{key:"activate",value:function(){m(h(t.prototype),"activate",this).call(this),this.brush.activate()}},{key:"deactivate",value:function(){m(h(t.prototype),"deactivate",this).call(this),this.brush.deactivate()}}]),t}(Pe),je=function(){function e(t,n){r(this,e),this.brush=t,this.renderToolbar=n,this.changeRadius=this.changeRadius.bind(this)}return a(e,[{key:"changeRadius",value:function(e){e.stopPropagation();var t=parseInt(e.target.value);this.brush.radius!=t&&(this.brush.radius=t),this.renderToolbar()}},{key:"render",value:function(){return Oe(P())}}]),e}(),Be=function(e){function t(e){var i;r(this,t);var o=Oe(C(),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAA7EAAAOxAGVKw4bAAABBElEQVRo3u3Yuw7BYBiH8WdmcLorXIxuRjtuSWKjTiM3YBWjSQ3yJY00aL9TX94n+UbJ7y/apkDTNO2fagJz4ARcgSUwjI36tjaQAtnLuQNJbNynWsC6AJ8/49hIG3xtR5TB125EFXxtRtjgo49wgY82wiU++Agf+GAj2sDGE94cbw+7EHjzxB5IxZuzkozPgJtkfAacJeMzYCoZnwING7zP+/ynswe6ile84uXgezb4JsX/HoQ4W6BjgweYScYDHCPgD1j+bPJdAuN3rr5500IyHqDP8+UhBN7qVvmuRDLeNPKEL7pgJyU+H3WELb70AJcjXOArDXAxwhW+8gBN0zTtN3sAFI5CX1O33XwAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjAtMDgtMDRUMDI6NDg6NDkrMDA6MDADjPrkAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIwLTA4LTA0VDAyOjQ4OjQ5KzAwOjAwctFCWAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII=");return(i=n.call(this,"eraser","Erase",o)).brush=e,i.options=new Ce(e),i}c(t,e);var n=y(t);return a(t,[{key:"activate",value:function(){m(h(t.prototype),"activate",this).call(this),this.brush.activate(),this.brush.startErasing()}},{key:"deactivate",value:function(){m(h(t.prototype),"deactivate",this).call(this),this.brush.deactivate(),this.brush.stopErasing()}}]),t}(Pe),Ce=function(){function e(t,n){r(this,e),this.brush=t,this.renderToolbar=n,this.changeRadius=this.changeRadius.bind(this)}return a(e,[{key:"changeRadius",value:function(e){e.stopPropagation();var t=parseInt(e.target.value);this.brush.radius!=t&&(this.brush.radius=t),this.renderToolbar()}},{key:"render",value:function(){return Oe(B(),(e=this.brush.radius,t=this.changeRadius,n={title:"Eraser Size"},Oe(j(),n?n.title:"Brush Size",e,t,e,t)));var e,t,n}}]),e}(),Re=function(e){function t(){r(this,t);var e=Oe(R(),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAABtElEQVR4AezWAWYDURSF4SIIsoCgiwiCIgAUUGQBs4QACugyggK6hCAoAgigKIKiyAIGRTC4/QGlcR6PiTH3HL4N/OOOdzfQTbDBO76xQwPmTXBAXPGG9HtBCA1S7xMh7LKfZBS02U8ySrKfZJTVnOTwN8MKDZaY1gaqOMnB7xFnxB8nLPsPhIFvgU583fvsgfYIYZs9UIsQPrIHirLbBtIPSwfSD0sHKj8skwcqPyyzB4qC1oEKHMiBHMiBHMiBHMiBHKiHOZADOZADOZADOZADDUCSQA7kQA7kQA40caD/m2GLFhfs8QQHYnOcEFccsEgSSMcROrxiniSQjiO0eMY0S6AjosIX1hkCPeAHUemAxdj/QauKSOL/NJ5A9ZHE/2kkgXSkhPQcSc+RCnMkOR3p4kB6a3QO5Eh6jqTnSMU5kp4j6TlST2tGEueM3rYZQaDj7/B7cTSQVoM8MRpIpG+oGw0kaEUjgttLo4HUj9sro4H0HnfqGQ2k3+DjMwYYVA/iwMlmGCQgfDCNTELd4s0wyIAKEK8fBKlmPvhglUEMdIC4Gdpy/UynLsRh6FydCrGOBABk1k0h3bUPJgAAAABJRU5ErkJggg==");return n.call(this,"pan","Pan",e)}c(t,e);var n=y(t);return t}(Pe),Fe=function(e){function t(e,i,o){var a;return r(this,t),(a=n.call(this,e,1)).color=o,a.locked=!1,a.listeners={colorend:[],colorfeature:[],mouseup:[]},O(["onClick","onTouchEnd"],v(a)),a}c(t,e);var n=y(t);return a(t,[{key:"setColor",value:function(e){this.color=parseInt(e)}},{key:"startErasing",value:function(){this._previousColor=this.color,this.color=null,this.erasing=!0}},{key:"stopErasing",value:function(){this.color=this._previousColor,this.erasing=!1}},{key:"hoverOn",value:function(e){this.hoveredFeatures=e,m(h(t.prototype),"hoverOn",this).call(this,e)}},{key:"colorFeatures",value:function(){var e=this;this.locked&&!this.erasing?this._colorFeatures((function(e){return null===e.state.color||void 0===e.state.color})):this._colorFeatures((function(t){return t.state.color!==e.color}))}},{key:"_colorFeatures",value:function(e){var t,n=new Set,i=w(this.hoveredFeatures);try{for(i.s();!(t=i.n()).done;){var r=t.value;if(e(r)&&!r.state.home){if(!n.has(r.id)){n.add(r.id);var o,a=w(this.listeners.colorfeature);try{for(a.s();!(o=a.n()).done;)(0,o.value)(r,this.color)}catch(e){a.e(e)}finally{a.f()}}this.layer.setFeatureState(r.id,l(l({},r.state),{},{color:this.color,hover:!0})),r.state.color=this.color}else this.layer.setFeatureState(r.id,l(l({},r.state),{},{hover:!0}))}}catch(e){i.e(e)}finally{i.f()}var s,u=w(this.listeners.colorend);try{for(u.s();!(s=u.n()).done;)(0,s.value)()}catch(e){u.e(e)}finally{u.f()}}},{key:"onClick",value:function(){this.colorFeatures()}},{key:"onTouchEnd",value:function(e){e.points&&e.points.length<=1&&this.colorFeatures()}},{key:"activate",value:function(){this.layer.map.getCanvas().classList.add("brush-tool"),m(h(t.prototype),"activate",this).call(this),this.layer.on("click",this.onClick),this.layer.map.on("touchend",this.onTouchEnd)}},{key:"deactivate",value:function(){this.layer.map.getCanvas().classList.remove("brush-tool"),m(h(t.prototype),"deactivate",this).call(this),this.layer.off("click",this.onClick),this.layer.map.off("touchend",this.onTouchEnd)}},{key:"on",value:function(e,t){this.listeners[e].push(t)}}]),t}(function(e){function t(e,i){var o;return r(this,t),(o=n.call(this,e)).radius=i,o.hoveredFeatures=[],o}c(t,e);var n=y(t);return a(t,[{key:"hoverOff",value:function(){var e=this;this.hoveredFeatures.forEach((function(t){e.layer.setFeatureState(t.id,l(l({},t.state),{},{hover:!1}))})),this.hoveredFeatures=[]}},{key:"hoverOn",value:function(e){var t=this;this.hoveredFeatures=e,this.hoveredFeatures.forEach((function(e){t.layer.setFeatureState(e.id,l(l({},e.state),{},{hover:!0}))}))}},{key:"onMouseMove",value:function(e){var t,n,i,r=(t=e.point,n=this.radius,i=[t.x+n,t.y+n],[[t.x-n,t.y-n],i]),o=this.layer.map.queryRenderedFeatures(r,{layers:[this.layer.id]});o.length>0&&(this.hoverOff(),this.hoverOn(o))}}]),t}(function(){function e(t){r(this,e),this.layer=t,this.hoveredFeature=null,this.onMouseMove=this.onMouseMove.bind(this),this.onMouseLeave=this.onMouseLeave.bind(this),this.hoverOff=this.hoverOff.bind(this)}return a(e,[{key:"hoverOff",value:function(){null!==this.hoveredFeature&&(this.layer.setFeatureState(this.hoveredFeature.id,l(l({},this.hoveredFeature.state),{},{hover:!1})),this.hoveredFeature=null)}},{key:"hoverOn",value:function(e){this.hoveredFeature=e,this.layer.setFeatureState(e.id,l(l({},e.state),{},{hover:!0}))}},{key:"onMouseMove",value:function(e){e.features.length>0&&(this.hoverOff(),this.hoverOn(e.features[0]))}},{key:"onMouseLeave",value:function(){this.hoverOff()}},{key:"activate",value:function(){this.layer.on("mousemove",this.onMouseMove),this.layer.on("mouseleave",this.onMouseLeave),this.layer.on("touchmove",this.onMouseMove,{passive:!1}),this.layer.on("touchend",this.onMouseLeave)}},{key:"deactivate",value:function(){this.layer.off("mousemove",this.onMouseMove),this.layer.off("mouseleave",this.onMouseLeave),this.layer.off("touchmove",this.onMouseMove),this.layer.off("touchend",this.onMouseLeave)}}]),e}())),Ie=function(){function e(t,n){r(this,e),this.reducer=t,this.state=n,this.subscribers=[],O(["dispatch","subscribe"],this)}return a(e,[{key:"dispatch",value:function(e){var t=this,n=this.reducer(this.state,e);n!==this.state&&(this.state=n,this.subscribers.forEach((function(e){return e(t.state,t.dispatch)})))}},{key:"subscribe",value:function(e){this.subscribers.push(e)}}]),e}(),Ve=function(e,t){var n=e.startNode.parentNode,i=void 0===t?e.endNode:t.startNode,r=n.insertBefore(re(),i);n.insertBefore(re(),i);var o=new fe(e.options);return o.insertAfterNode(r),o},De=function(e,t){return e.setValue(t),e.commit(),e},He=function(e,t,n){var i=e.startNode.parentNode,r=n?n.startNode:e.endNode,o=t.endNode.nextSibling;o!==r&&function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t!==n;){var r=t.nextSibling;e.insertBefore(t,i),t=r}}(i,t.startNode,o,r)},Ue=function(e){W(e.startNode.parentNode,e.startNode,e.endNode.nextSibling)},Qe=function(e,t,n){for(var i=new Map,r=t;r<=n;r++)i.set(e[r],r);return i
},ze=new WeakMap,Ye=new WeakMap,Ge=(xe=function(e,t,n){var i;return void 0===n?n=t:void 0!==t&&(i=t),function(t){if(!(t instanceof fe))throw new Error("repeat can only be used in text bindings");var r,o,a,s=ze.get(t)||[],u=Ye.get(t)||[],l=[],c=[],h=[],d=0,f=w(e);try{for(f.s();!(r=f.n()).done;){var v=r.value;h[d]=i?i(v,d):d,c[d]=n(v,d),d++}}catch(e){f.e(e)}finally{f.f()}for(var p=0,y=s.length-1,m=0,g=c.length-1;p<=y&&m<=g;)if(null===s[p])p++;else if(null===s[y])y--;else if(u[p]===h[m])l[m]=De(s[p],c[m]),p++,m++;else if(u[y]===h[g])l[g]=De(s[y],c[g]),y--,g--;else if(u[p]===h[g])l[g]=De(s[p],c[g]),He(t,s[p],l[g+1]),p++,g--;else if(u[y]===h[m])l[m]=De(s[y],c[m]),He(t,s[y],s[p]),y--,m++;else if(void 0===o&&(o=Qe(h,m,g),a=Qe(u,p,y)),o.has(u[p]))if(o.has(u[y])){var b=a.get(h[m]),A=void 0!==b?s[b]:null;if(null===A){var k=Ve(t,s[p]);De(k,c[m]),l[m]=k}else l[m]=De(A,c[m]),He(t,A,s[p]),s[b]=null;m++}else Ue(s[y]),y--;else Ue(s[p]),p++;for(;m<=g;){var _=Ve(t,l[g+1]);De(_,c[m]),l[m++]=_}for(;p<=y;){var x=s[p++];null!==x&&Ue(x)}ze.set(t,l),Ye.set(t,h)}},function(){var e=xe.apply(void 0,arguments);return G.set(e,!0),e}),Ze=function(){function e(t,n){r(this,e),this.tools=[],this.toolsById={},this.menuItems=[],this.renderCallback=n.render,this.render=this.render.bind(this),this.selectTool=this.selectTool.bind(this),this.addTool=this.addTool.bind(this),this.store=t}return a(e,[{key:"selectTool",value:function(e){this.activeTool&&this.activeTool.deactivate(),this.toolsById[e].activate(),this.store.dispatch(Q.selectTool({id:e}))}},{key:"addTool",value:function(e){void 0!==e.options&&(e.options.renderToolbar=this.renderCallback),this.toolsById[e.id]=e,this.tools.push(e)}},{key:"setMenuItems",value:function(e){this.menuItems=e}},{key:"render",value:function(){var e,t=this;return Oe(I(),Ge(this.tools,(function(e){return e.id}),(function(e){return e.render(t.selectTool)})),(e=this.activeTool,Oe(F(),void 0!==e.options?"active":"",void 0!==e.options?e.options.render():"")))}},{key:"activeTool",get:function(){return this.toolsById[this.store.state.toolbar.activeTool]}}]),e}(),Je=[function(e){var t=e.state,n=e.toolbar,i=new Fe(t.units,10,0);i.on("colorfeature",t.update),i.on("colorend",t.render);for(var r=0,o=[new Re,new Le(i),new Be(i)];r<o.length;r++){var a=o[r];n.addTool(a)}n.selectTool("pan")}],We=function(){function e(t,n,i){var o=this;r(this,e),this.render=this.render.bind(this),H.default.accessToken=n.token,i=l({style:"mapbox://styles/mapbox/outdoors-v11"},i);var a=document.querySelector(t);a.classList.add("districtr__embed-container");var s=document.createElement("div"),u=x(8);s.setAttribute("id",u),s.style="height: 100%; width: 100%",a.appendChild(s),this.toolbarTarget=document.createElement("div"),a.appendChild(this.toolbarTarget),this.addressMarker=null,this.graph=null,this.showError=n.errors,this.allowProceed=n.allowProceed,fetch(n.graph).then((function(e){return e.json()})).then((function(e){o.graph=e})),fetch(n.url).then((function(e){return e.json()})).then((function(e){o.bounds=e.units.bounds,o.zoomTo=n.zoomTo||e.units.zoomTo||14,o.mapState=new Te(u,{bounds:e.units.bounds,fitBoundsOptions:{padding:{top:50,right:50,left:50,bottom:50}}},i.style),o.mapState.map.on("load",(function(){e.showOverlay=n.showOverlay,e.overlayRule=n.overlayRule,o.state=new Ee(o.mapState.map,e,(function(){return null})),o.enableMap=function(){var e=this;if(!this.enabled){this.enabled=!0,this.store=new Ie(Y,{toolbar:{}}),this.toolbar=new Ze(this.store,this);var t,n=w(Je);try{for(n.s();!(t=n.n()).done;)(0,t.value)(this)}catch(e){n.e(e)}finally{n.f()}this.store.subscribe(this.render),this.state.subscribe(this.render),this.map.boxZoom.enable(),this.map.scrollZoom.enable(),this.map.dragPan.enable(),this.map.dragRotate.enable(),this.map.keyboard.enable(),this.map.doubleClickZoom.enable(),this.map.touchZoomRotate.enable();var i=document.createElement("div");i.id="ns__msg-draw",i.className="ns__msg",i.style.margin="0",i.style.borderRadius="0",i.hidden=!0,this.toolbarTarget.prepend(i);var r=-1,o=this.checkConnected.bind(this,i);this.toolbar.toolsById.brush.brush.on("mouseup",(function(){window.clearTimeout(r),r=window.setTimeout(o,50)}));var a=document.querySelector("#ns__clear-all");a.hidden=!1,a.addEventListener("click",(function(){e.clearNeighborhood(),window.setTimeout(o,50)}))}},o.disableMap=function(){this.enabled=!1,this.map.boxZoom.disable(),this.map.scrollZoom.disable(),this.map.dragPan.disable(),this.map.dragRotate.disable(),this.map.keyboard.disable(),this.map.doubleClickZoom.disable(),this.map.touchZoomRotate.disable()},o.disableMap()}))})).catch((function(){_e(Oe(V()),a)}))}return a(e,[{key:"render",value:function(){this.toolbarTarget&&this.toolbar&&_e(this.toolbar.render(),this.toolbarTarget)}},{key:"checkConnected",value:function(e){var t=this;if(!this.graph)return null;var n=this.state.plan.assignment,i={},r=0;for(var o in n)0===n[o]&&(i[o]=!1,r++);var a=function e(n,i){var r=1;n[i]=!0;var o,a=w(t.graph[i]);try{for(a.s();!(o=a.n()).done;){var s=o.value;!1===n[s]&&(r+=e(n,s))}}catch(e){a.e(e)}finally{a.f()}return r}(i,this.homeBlock.id)===r;return a?(e.hidden=!0,e.innerHTML=null):(e.hidden=!1,e.innerHTML="Your neighborhood must be in one piece only."),this.allowProceed(a),a}},{key:"loadAddress",value:function(e,t){var n=this,i="https://api.mapbox.com/geocoding/v5/mapbox.places/".concat(encodeURIComponent(e),".json?autocomplete=false&limit=1&bbox=").concat(this.bounds[0][0],",").concat(this.bounds[0][1],",").concat(this.bounds[1][0],",").concat(this.bounds[1][1],"&access_token=").concat(H.default.accessToken);fetch(i).then((function(e){return e.json()})).then((function(e){if(0!==e.features.length){n.showError(null),n.enableMap(),t&&(t.value=e.features[0].place_name);var i=e.features[0].center;n.addressMarker&&n.addressMarker.remove(),n.addressMarker=new H.default.Marker({color:"#ff4f49"}).setLngLat(i).addTo(n.map);var r=!1,o=function(){var e=n.map.queryRenderedFeatures(n.map.project(i),{layers:[n.state.units.id],validate:!1})[0];e&&!r&&(r=!0,n.homeBlock&&(n.map.setFeatureState(n.homeBlock,l(l({},n.homeBlock.state),{},{home:!1})),n.clearNeighborhood(!1)),n.state.units.setAssignment(e,0),n.state.plan.assignment[e.id]=0,n.homeBlock=e,e.state.home=!0,n.map.setFeatureState(e,l(l({},e.state),{},{home:!0})))};n.map.once("moveend",(function(){n.state.layers[0].untilSourceLoaded(o)})),n.map.easeTo({center:i,zoom:Math.max(n.zoomTo,7.5),duration:1e3})}else n.showError("Address not found.")}))}},{key:"getNeighborhood",value:function(){var e=this.state.plan.assignment;return Object.keys(e).filter((function(t){return 0===e[t]})).join(",")}},{key:"clearNeighborhood",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=Object.keys(this.state.plan.assignment),i=this.state.units.querySourceFeatures().filter((function(e){return n.includes(e.id)}));i.forEach((function(t){return e.state.units.setAssignment(t,null)})),n.forEach((function(t){e.state.plan.assignment[t]=null})),this.homeBlock&&t&&(this.state.units.setAssignment(this.homeBlock,0),this.state.plan.assignment[this.homeBlock.id]=0)}},{key:"map",get:function(){return this.mapState.map}}]),e}();window.MapDraw=function(e,t,n){return new We(e,t,n)},window.showError=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#ns__msg-search",n=document.querySelector(t);null!==e?(n.hidden=!1,n.innerHTML=e):(n.hidden=!0,n.innerHTML="&nbsp;")},window.BivariateOverlay=function(e){return{"fill-color":["interpolate-hcl",["linear"],["case",["==",e.denominator||["get","pop"],0],e.midpt||.5,["/",e.numerator||["get","gop"],e.denominator||["get","pop"]]],0,e.colorLow||"rgb(30, 60, 210)",e.midpt||.5,"rgba(255, 255, 255, 0)",1,e.colorHigh||"rgb(210, 30, 20)"],"fill-opacity":e.opacity||.375}},window.UnivariateOverlay=function(e){return{"fill-color":["interpolate-hcl",["linear"],["case",["==",e.denominator||["get","pop"],0],0,["/",e.numerator||["get","dem"],e.denominator||["get","pop"]]],0,"rgba(255, 255, 255, 0)",1,e.color||"#c0b010"],"fill-opacity":e.opacity||.375}},e.EmbeddedDistrictr=We,Object.defineProperty(e,"__esModule",{value:!0})}));